<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ƒêƒÉng nh·∫≠p</title>

  <!-- Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>

  <style>
    :root{
      --bg:#0f172a;           /* slate-900 */
      --bg2:#111827;          /* gray-900 */
      --card:rgba(17,24,39,.6);
      --ink:#e5e7eb;          /* gray-200 */
      --muted:#94a3b8;        /* slate-400 */
      --ring:#60a5fa;         /* blue-400 */
      --primary:#2563eb;      /* blue-600 */
      --primary-2:#7c3aed;    /* violet-600 */
      --danger:#ef4444;
      --border:rgba(148,163,184,.25);
      --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:'Inter',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--ink);
      background: radial-gradient(1200px 800px at 10% 10%, #1d253a 0%, transparent 60%),
                  radial-gradient(1000px 600px at 90% 20%, #1f114a 0%, transparent 60%),
                  linear-gradient(180deg, var(--bg) 0%, #0b1220 100%);
      display:grid; place-items:center; padding:24px;
      overflow:hidden;
    }

    /* Decor blobs */
    .blob, .blob2{
      position:fixed; filter:blur(40px); opacity:.25; pointer-events:none; z-index:0;
    }
    .blob{
      width:420px; height:420px; background:conic-gradient(from 90deg,#2563eb, #7c3aed, #06b6d4);
      border-radius:50%; top:-120px; left:-120px; animation:float1 14s ease-in-out infinite;
    }
    .blob2{
      width:520px; height:520px; background:conic-gradient(from 0deg,#22c55e, #06b6d4, #2563eb);
      border-radius:50%; bottom:-160px; right:-160px; animation:float2 16s ease-in-out infinite;
    }
    @keyframes float1{ 0%,100%{transform:translate(0,0) rotate(0deg)} 50%{transform:translate(20px,10px) rotate(20deg)} }
    @keyframes float2{ 0%,100%{transform:translate(0,0) rotate(0deg)} 50%{transform:translate(-10px,20px) rotate(-15deg)} }

    .login-shell{
      width:min(920px, 96vw); display:grid; grid-template-columns: 1.2fr 1fr; gap:0;
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:0 30px 120px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.04);
      overflow:hidden; position:relative; z-index:1;
    }
    @media (max-width:900px){ .login-shell{ grid-template-columns: 1fr; } }

    /* Left hero */
    .hero{
      position:relative; padding:38px; background:
        radial-gradient(600px 320px at 20% 15%, rgba(124,58,237,.25), transparent 60%),
        radial-gradient(600px 320px at 80% 85%, rgba(37,99,235,.25), transparent 60%),
        linear-gradient(180deg, rgba(2,6,23,.6), rgba(2,6,23,.3));
      border-right:1px solid var(--border);
      display:flex; flex-direction:column; justify-content:space-between; min-height:420px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
    }
    .brand .logo{
      width:42px; height:42px; border-radius:12px;
      background:conic-gradient(from 180deg, #2563eb, #7c3aed, #06b6d4);
      box-shadow:0 6px 18px rgba(37,99,235,.5);
      display:grid; place-items:center; color:white; font-weight:800; letter-spacing:.5px;
    }
    .brand .name{ font-weight:800; font-size:18px; letter-spacing:.3px; }
    .hero .headline{ margin-top:24px; font-size:26px; font-weight:800; line-height:1.2; }
    .hero .sub{ color:var(--muted); margin-top:10px; font-size:14px; }
    .hero .foot-note{ color:#cbd5e1; font-size:12px; opacity:.8; }

    /* Right card */
    .login-card{
      padding:36px 30px; background:var(--card); backdrop-filter: blur(14px);
      display:flex; flex-direction:column; justify-content:center; gap:16px; min-height:420px;
    }
    .login-card h2{ margin:0 0 8px; font-size:22px; }
    .login-card .caption{ color:var(--muted); font-size:13px; margin-bottom:8px; }

    /* Form reset & fields (keeps {{ form.as_p }}) */
    form { margin:0; }
    form p{ margin:10px 0 14px; position:relative; }
    form label{ display:inline-block; margin-bottom:8px; font-weight:600; font-size:13px; color:#cbd5e1; }
    form input[type="text"],
    form input[type="email"],
    form input[type="password"]{
      width:100%; padding:12px 44px 12px 12px; border-radius:12px;
      background:rgba(2,6,23,.35); color:var(--ink);
      border:1px solid rgba(148,163,184,.25);
      outline:none; transition:border-color .18s, box-shadow .18s, background .18s, transform .06s;
      font-size:15px;
    }
    form input::placeholder{ color:#9aa4b2; }
    form input:hover{ border-color:rgba(148,163,184,.38); }
    form input:focus{
      border-color:var(--ring);
      box-shadow:0 0 0 4px rgba(96,165,250,.25);
      background:rgba(2,6,23,.55);
    }

    /* Password toggle btn auto-injected */
    .pw-toggle{
      position:absolute; right:10px; bottom:12px;
      border:1px solid rgba(148,163,184,.25);
      background:rgba(2,6,23,.4);
      color:#cbd5e1; border-radius:10px; padding:6px 8px; cursor:pointer;
      font-size:12px; font-weight:700; letter-spacing:.3px;
    }
    .pw-toggle:hover{ background:rgba(2,6,23,.6); }

    /* Button */
    .btn{
      width:100%; padding:12px 14px; border:none; border-radius:12px; cursor:pointer;
      font-weight:800; font-size:15px; letter-spacing:.3px; color:white;
      background:linear-gradient(135deg, var(--primary), var(--primary-2));
      box-shadow:0 14px 30px rgba(37,99,235,.35);
      transition:transform .06s ease, filter .2s ease, box-shadow .2s ease;
      margin-top:6px;
    }
    .btn:hover{ filter:brightness(1.05); box-shadow:0 16px 38px rgba(124,58,237,.35); }
    .btn:active{ transform:translateY(1px); }

    /* Spinner in button when submitting */
    .btn .spinner{
      width:16px; height:16px; border:2px solid rgba(255,255,255,.35);
      border-top-color:white; border-radius:50%; display:inline-block; margin-right:8px;
      animation:spin .8s linear infinite; vertical-align:-3px;
    }
    @keyframes spin{ to{ transform:rotate(360deg); } }

    .signup{
      margin-top:10px; text-align:center; font-size:14px; color:#cbd5e1;
    }
    .signup a{
      color:#93c5fd; text-decoration:none; font-weight:700;
    }
    .signup a:hover{ text-decoration:underline; }

    /* Django error styles */
    .errorlist{
      margin:6px 0 0; padding:0; list-style:none; color:#fecaca; font-size:13px;
    }
    .errorlist li{ margin:4px 0; }
    .nonfield{ background:rgba(239,68,68,.1); border:1px solid rgba(239,68,68,.35);
      color:#fecaca; padding:10px 12px; border-radius:10px; font-size:13px; margin-bottom:8px; }

    /* Django messages (optional) */
    .messages{ margin:0 0 8px; padding:0; list-style:none; }
    .messages li{ padding:10px 12px; border-radius:10px; font-size:13px; margin-bottom:8px; border:1px solid var(--border); }
    .messages li.info{ background:rgba(59,130,246,.1); border-color:rgba(59,130,246,.35); color:#bfdbfe;}
    .messages li.success{ background:rgba(34,197,94,.1); border-color:rgba(34,197,94,.35); color:#bbf7d0;}
    .messages li.warning{ background:rgba(250,204,21,.1); border-color:rgba(250,204,21,.35); color:#fde68a;}
    .messages li.error{ background:rgba(239,68,68,.1); border-color:rgba(239,68,68,.35); color:#fecaca;}

    /* Small link row */
    .row-links{
      display:flex; justify-content:space-between; align-items:center; margin-top:-4px;
    }
    .row-links a{
      color:#9ac5ff; font-size:12px; text-decoration:none;
    }
    .row-links a:hover{ text-decoration:underline; }
  </style>
</head>
<body>
  <div class="blob" aria-hidden="true"></div>
  <div class="blob2" aria-hidden="true"></div>

  <div class="login-shell">
    <!-- Left hero / brand -->
    <div class="hero">
      <div>
        <div class="brand">
          <div class="logo">BK</div>
          <div class="name">Bank Map Suite</div>
        </div>
        <div class="headline">Ch√†o m·ª´ng quay l·∫°i üëã</div>
        <div class="sub">ƒêƒÉng nh·∫≠p ƒë·ªÉ qu·∫£n l√Ω Ng√¢n h√†ng / Chi nh√°nh / ATM tr√™n b·∫£n ƒë·ªì v·ªõi ch·∫ø ƒë·ªô 3D & th·ªëng k√™ n√¢ng cao.</div>
      </div>
      <div class="foot-note">¬© {{ year|default:2025 }} Bank Map Suite. All rights reserved.</div>
    </div>

    <!-- Right login card -->
    <div class="login-card">
      <h2>ƒêƒÉng nh·∫≠p</h2>
      <div class="caption">Vui l√≤ng nh·∫≠p th√¥ng tin t√†i kho·∫£n c·ªßa b·∫°n.</div>

      <!-- Django messages (n·∫øu c√≥) -->
      {% if messages %}
        <ul class="messages">
          {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}

      <!-- Non-field errors (n·∫øu form c√≥) -->
      {% if form.non_field_errors %}
        <div class="nonfield">
          {{ form.non_field_errors }}
        </div>
      {% endif %}

      <form method="POST" id="login-form" novalidate>
        {% csrf_token %}
        {{ form.as_p }}

        <div class="row-links">
          <!-- N·∫øu c√≥ url reset m·∫≠t kh·∫©u, b·∫°n c√≥ th·ªÉ ƒë·ªïi href n√†y th√†nh {% url 'password_reset' %} -->
          <a href="#" onclick="alert('Vui l√≤ng li√™n h·ªá qu·∫£n tr·ªã ƒë·ªÉ ƒë·∫∑t l·∫°i m·∫≠t kh·∫©u.');return false;">Qu√™n m·∫≠t kh·∫©u?</a>
          <!-- ch·ªó tr·ªëng gi·ªØ c√¢n ƒë·ªëi -->
          <span></span>
        </div>

        <button type="submit" class="btn" id="submit-btn">ƒêƒÉng nh·∫≠p</button>
      </form>

      <div class="signup">
        Ch∆∞a c√≥ t√†i kho·∫£n?
        <a href="{% url 'register' %}">ƒêƒÉng k√Ω ngay</a>
      </div>
    </div>
  </div>

  <script>
    // T·ª± th√™m n√∫t "Hi·ªán/·∫®n" cho √¥ m·∫≠t kh·∫©u ƒë∆∞·ª£c render b·ªüi {{ form.as_p }}
    (function(){
      const pw = document.querySelector('form input[type="password"]');
      if(!pw) return;
      const p = pw.closest('p');
      if(!p) return;
      p.style.position = 'relative';
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'pw-toggle';
      btn.innerText = 'Hi·ªán';
      btn.setAttribute('aria-label','Hi·ªán/·∫©n m·∫≠t kh·∫©u');
      btn.addEventListener('click', ()=>{
        const isPw = pw.type === 'password';
        pw.type = isPw ? 'text' : 'password';
        btn.innerText = isPw ? '·∫®n' : 'Hi·ªán';
        pw.focus();
      });
      p.appendChild(btn);
    })();

    // Spinner khi submit
    (function(){
      const form = document.getElementById('login-form');
      const btn  = document.getElementById('submit-btn');
      if(!form || !btn) return;
      form.addEventListener('submit', ()=>{
        btn.disabled = true;
        btn.innerHTML = '<span class="spinner"></span>ƒêang ƒëƒÉng nh·∫≠p...';
      });
    })();
  </script>
</body>
</html>
